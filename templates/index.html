<!DOCTYPE html>
<html>
<head>
    <title>Tic-Tac-Toe</title>
    <link rel="stylesheet" type="text/css" href="/static/style.css">
</head>
<body>
    <h1>Tic-Tac-Toe</h1>
    <div id="board">
        <div class="row">
            <div class="cell" id="cell-0"></div>
            <div class="cell" id="cell-1"></div>
            <div class="cell" id="cell-2"></div>
        </div>
        <div class="row">
            <div class="cell" id="cell-3"></div>
            <div class="cell" id="cell-4"></div>
            <div class="cell" id="cell-5"></div>
        </div>
        <div class="row">
            <div class="cell" id="cell-6"></div>
            <div class="cell" id="cell-7"></div>
            <div class="cell" id="cell-8"></div>
        </div>
    </div>
    <script>
        let loc = window.location;
        let wsStart = loc.protocol === "https:" ? "wss://" : "ws://";
        let endpoint = wsStart + loc.host + "/ws";
        let ws = new WebSocket(endpoint);

        ws.onmessage = function(event) {
            const data = JSON.parse(event.data);
            const cell = document.getElementById(`cell-${data.cell}`);
            cell.innerText = data.player;
        };

        const cells = document.querySelectorAll(".cell");
        cells.forEach(cell => {
            cell.addEventListener("click", () => {
                const cellId = cell.id.split("-")[1];
                const player = "X"; // Replace with your game logic to alternate players
                ws.send(JSON.stringify({ cell: cellId, player: player }));
            });
        });
    </script>
</body>
</html>
